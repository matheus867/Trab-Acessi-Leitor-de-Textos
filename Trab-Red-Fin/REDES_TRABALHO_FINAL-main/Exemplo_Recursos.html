<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Modelo Profissional (Único Arquivo) — Elementos HTML Avançados e Acessíveis</title>
  <meta name="description" content="Exemplo completo, moderno e estilizado com carrossel, cards, colunas, modal, controle de fonte, TTS e modo escuro — tudo em um único arquivo com comentários didáticos." />

  <!-- ======================
       Estilos (CSS)
       Comentários didáticos explicam blocos principais
       ====================== -->
  <style>
    /* :root -> variáveis usadas em todo o tema */
    :root{
      --bg: #f6f8fb;
      --surface: #ffffff;
      --muted: #6b7280;
      --text: #0f172a;
      --accent: #2563eb;
      --accent-2: #7c3aed;
      --glass: rgba(255,255,255,0.6);
      --radius: 14px;
      --shadow-sm: 0 6px 18px rgba(16,24,40,0.06);
      --shadow-lg: 0 20px 60px rgba(2,6,23,0.12);
      --gap: 16px;
      --max-width: 1200px;
      --base-font: 16px; /* alterado via JS para acessibilidade */
    }

    /* Tema escuro - troca rápida via atribut data-theme="dark" */
    [data-theme="dark"]{
      --bg: #071127;
      --surface: #071b2a;
      --muted: #9fb3c8;
      --text: #e6f1fb;
      --accent: #60a5fa;
      --accent-2: #9f7aea;
      --glass: rgba(8,15,25,0.6);
    }

    /* Reset base e tipografia */
    *{box-sizing:border-box}
    html{font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; font-size:var(--base-font);}
    body{margin:0;background:linear-gradient(180deg,var(--bg), #eaf2ff); color:var(--text); -webkit-font-smoothing:antialiased;}

    /* Container central */
    .wrap{max-width:var(--max-width); margin:24px auto; padding:20px;}

    header.card{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:18px;border-radius:var(--radius);background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.3)); box-shadow:var(--shadow-sm);}
    [data-theme="dark"] header.card{background:linear-gradient(180deg, rgba(9,18,28,0.6), rgba(9,18,28,0.3));}

    h1{font-size:1.5rem;margin:0}
    p.lead{margin:6px 0 0;color:var(--muted)}

    /* Acessibilidade: skip link */
    .skip{position:absolute;left:8px;top:8px;background:#fff;padding:8px 10px;border-radius:8px;z-index:9999;transform:translateY(-120%);transition:transform .18s}
    .skip:focus{transform:translateY(0);outline:3px solid var(--accent)}

    /* Controles de Acessibilidade no topo */
    .controls{display:flex;gap:8px;align-items:center}
    .btn{background:var(--accent);color:white;border:0;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:600}
    .btn.ghost{background:transparent;color:var(--text);border:1px solid rgba(15,23,42,0.06)}
    .btn.small{padding:6px 8px;font-size:.95rem}

    /* Grid de seções */
    main{display:grid;gap:18px;margin-top:18px}
    section.card{padding:18px;border-radius:12px;background:var(--surface);box-shadow:var(--shadow-sm)}

    /* CARDS GRID (responsive) */
    .cards{display:grid;gap:14px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
    .card-item{border-radius:12px;overflow:hidden;background:linear-gradient(180deg,var(--surface),transparent);box-shadow:var(--shadow-sm);display:flex;flex-direction:column}
    .card-media{height:140px;overflow:hidden}
    .card-media img{width:100%;height:100%;object-fit:cover;display:block}
    .card-body{padding:12px}
    .card-body h3{margin:0 0 8px 0}
    .card-body p{margin:0;color:var(--muted)}

    /* Layout colunas para demonstrar grid/columns */
    .cols-3{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    @media (max-width:1000px){.cols-3{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:600px){.cols-3{grid-template-columns:1fr}}

    /* CARROSSEL */
    .carousel{position:relative;border-radius:12px;overflow:hidden}
    .carousel-track{display:flex;transition:transform .45s cubic-bezier(.2,.9,.2,1);will-change:transform}
    .carousel-slide{min-width:100%;flex-shrink:0}
    .carousel-slide img{width:100%;height:360px;object-fit:cover;display:block}

    .controls-carousel{position:absolute;inset:0;display:flex;justify-content:space-between;align-items:center;padding:8px;pointer-events:none}
    .controls-carousel button{pointer-events:auto;background:linear-gradient(90deg,rgba(0,0,0,0.45),rgba(0,0,0,0.15));border:0;color:white;padding:10px;border-radius:10px}

    .indicators{position:absolute;left:50%;transform:translateX(-50%);bottom:12px;display:flex;gap:8px}
    .dot{width:10px;height:10px;border-radius:99px;background:rgba(255,255,255,0.6);border:2px solid rgba(0,0,0,0.08);}
    .dot[aria-current="true"]{background:var(--accent)}

    /* MODAL */
    .backdrop{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(3,7,18,0.6), rgba(3,7,18,0.5));z-index:1200}
    .modal{width:min(720px,calc(100% - 40px));border-radius:14px;background:var(--surface);padding:20px;box-shadow:var(--shadow-lg)}

    /* TTS and typography demo */
    .demo-text{font-size:1rem;margin:0;color:var(--text)}

    /* Footer */
    footer{margin-top:18px;padding:12px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.3));text-align:center;color:var(--muted)}

    /* Small utilities */
    .muted{color:var(--muted)}
    code{background:rgba(15,23,42,0.06);padding:2px 6px;border-radius:6px}

    /* Make focus styles clear for keyboard users */
    :focus{outline:3px solid rgba(37,99,235,0.2);outline-offset:3px}

  </style>
</head>
<body>
  <!-- Skip link: importante para quem usa teclado -->
  <a class="skip" href="#main">Pular para o conteúdo</a>

  <div class="wrap">
    <!-- Header com controles de acessibilidade -->
    <header class="card" role="banner">
      <div>
        <h1>Modelo Profissional — Recursos Avançados</h1>
        <p class="lead">Demonstração moderna e estilizada com comentários didáticos — tudo em um único arquivo.</p>
      </div>

      <div class="controls" role="navigation" aria-label="Controles de acessibilidade">
        <button id="theme-toggle" class="btn ghost small" aria-pressed="false">Tema</button>
        <button id="font-decrease" class="btn small">A-</button>
        <button id="font-reset" class="btn small">A</button>
        <button id="font-increase" class="btn small">A+</button>
        <button id="tts-read" class="btn small">Ler</button>
        <button id="tts-stop" class="btn ghost small">Parar</button>
      </div>
    </header>

    <main id="main">

      <!-- 1) Retain básicos: textos, listas e formulário -->
      <section class="card" aria-labelledby="basics-title">
        <h2 id="basics-title">Textos, listas, tabelas e formulários (básico)</h2>
        <p class="demo-text">Este bloco mantém os exemplos clássicos de HTML — cabeçalhos, parágrafos e estrutura semântica.</p>

        <div class="cols-3" style="margin-top:12px">
          <div>
            <h3>Listas</h3>
            <ul><li>Item A</li><li>Item B</li><li>Item C</li></ul>
          </div>
          <div>
            <h3>Tabela</h3>
            <table style="width:100%;border-collapse:collapse" border="1"><caption>Tabela Exemplo</caption><thead><tr><th>Nome</th><th>Idade</th></tr></thead><tbody><tr><td>Maria</td><td>28</td></tr></tbody></table>
          </div>
          <div>
            <h3>Formulário</h3>
            <form>
              <label>Nome: <input type="text" name="nome"></label><br>
              <label>Email: <input type="email" name="email"></label>
            </form>
          </div>
        </div>
      </section>

      <!-- 2) Carousel moderno e acessível -->
      <section class="card" aria-labelledby="carousel-title">
        <h2 id="carousel-title">Carrossel acessível e estilizado</h2>

        <!-- estrutura do carrossel: container -> track -> slides -->
        <div class="carousel" id="carousel" tabindex="0" aria-roledescription="carousel" aria-label="Galeria de imagens">
          <div class="carousel-track" id="track">
            <div class="carousel-slide" role="group" aria-label="slide 1 of 3"><img src="https://picsum.photos/id/1018/1200/800" alt="Paisagem com montanhas"/></div>
            <div class="carousel-slide" role="group" aria-label="slide 2 of 3"><img src="https://picsum.photos/id/1021/1200/800" alt="Cidade à noite"/></div>
            <div class="carousel-slide" role="group" aria-label="slide 3 of 3"><img src="https://picsum.photos/id/1027/1200/800" alt="Praia ao pôr do sol"/></div>
          </div>

          <!-- controles visuais (botões) e indicadores -->
          <div class="controls-carousel" aria-hidden="false">
            <button id="prev" aria-label="Anterior">◀</button>
            <div class="indicators" role="tablist" aria-label="Indicadores do carrossel">
              <button class="dot" data-index="0" role="tab" aria-selected="true" aria-current="true"></button>
              <button class="dot" data-index="1" role="tab" aria-selected="false"></button>
              <button class="dot" data-index="2" role="tab" aria-selected="false"></button>
            </div>
            <button id="next" aria-label="Próximo">▶</button>
          </div>
        </div>

        <p class="muted" style="margin-top:10px">Navegue com as teclas ← e →, ou pelo foco. O carrossel pausa enquanto focado.</p>
      </section>

      <!-- 3) Cards responsivos em grid -->
      <section class="card" aria-labelledby="cards-title">
        <h2 id="cards-title">Cards e layout responsivo em colunas</h2>
        <div class="cards">
          <article class="card-item" aria-labelledby="c1">
            <div class="card-media"><img src="https://picsum.photos/id/1043/800/400" alt="Imagem de trilha"/></div>
            <div class="card-body">
              <h3 id="c1">Aventura</h3>
              <p class="muted">Passeios e experiências ao ar livre.</p>
              <p style="margin-top:10px"><a class="btn" href="#">Explorar</a></p>
            </div>
          </article>

          <article class="card-item" aria-labelledby="c2">
            <div class="card-media"><img src="https://picsum.photos/id/1069/800/400" alt="Imagem urbana"/></div>
            <div class="card-body">
              <h3 id="c2">Cultura</h3>
              <p class="muted">Roteiros culturais e históricos.</p>
              <p style="margin-top:10px"><a class="btn" href="#">Explorar</a></p>
            </div>
          </article>

          <article class="card-item" aria-labelledby="c3">
            <div class="card-media"><img src="https://picsum.photos/id/1084/800/400" alt="Imagem gastronômica"/></div>
            <div class="card-body">
              <h3 id="c3">Gastronomia</h3>
              <p class="muted">Sabores locais e receitas.</p>
              <p style="margin-top:10px"><a class="btn" href="#">Explorar</a></p>
            </div>
          </article>
        </div>
      </section>

      <!-- 4) Modal acessível com trap de foco -->
      <section class="card" aria-labelledby="modal-title">
        <h2 id="modal-title">Modal informativo (acessível)</h2>
        <p class="muted">Clique para abrir o modal. Ele "trapa" o foco e fecha com ESC.</p>
        <p><button id="open-modal" class="btn">Abrir modal</button></p>

        <!-- backdrop + diálogo (hidden por padrão) -->
        <div class="backdrop" id="backdrop" role="dialog" aria-modal="true" aria-hidden="true">
          <div class="modal" role="document" aria-labelledby="modal-h">
            <h3 id="modal-h">Aviso Importante</h3>
            <p>Este é um modal de exemplo. O foco fica confinado dentro do modal enquanto ele estiver aberto.</p>
            <p style="text-align:right;margin-top:14px"><button id="close-modal" class="btn ghost">Fechar</button></p>
          </div>
        </div>
      </section>

      <!-- 5) TTS (Text to Speech) e demo de leitura -->
      <section class="card" aria-labelledby="tts-title">
        <h2 id="tts-title">Recursos de Leitura por Voz (TTS)</h2>
        <p id="tts-content" class="demo-text">Este parágrafo é usado para demonstrar a leitura por voz via SpeechSynthesis. Você pode aumentar a fonte e alternar o tema para testar a acessibilidade.</p>
        <p class="muted">Dica: selecione parte do texto e pressione <code>Ctrl/⌘ + R</code> para ler somente a seleção (implementado no JavaScript).</p>
      </section>

      <!-- 6) Footer e créditos -->
      <footer class="card" aria-labelledby="footer-title">
        <h4 id="footer-title">Rodapé</h4>
        <p class="muted">Modelo por Cristiano — código comentado e pronto para uso em aulas e demonstrações.</p>
      </footer>

    </main>
  </div>

  <!-- ==========================
       JavaScript (comentado e modular)
       Tudo em módulo IIFE para evitar poluir global
       ========================== -->
  <script>
    /* Utilitários pequenos */
    const $ = (s, ctx=document) => ctx.querySelector(s);
    const $$ = (s, ctx=document) => Array.from(ctx.querySelectorAll(s));

    /* ==========================
       Tema: alterna entre claro/escuro e persiste em localStorage
       Comentários:
       - Usa atributo data-theme no <html> para aplicar variáveis.
       - Botão 'Tema' alterna e atualiza aria-pressed.
       ========================== */
    (function Theme(){
      const btn = $('#theme-toggle');
      const key = 'site:theme';
      const root = document.documentElement;

      const apply = (t) => {
        if(t === 'dark') root.setAttribute('data-theme','dark');
        else root.removeAttribute('data-theme');
        btn.textContent = t === 'dark' ? 'Modo Claro' : 'Modo Escuro';
        btn.setAttribute('aria-pressed', String(t === 'dark'));
      }

      // inicial: localStorage > preferencia do sistema > claro
      const stored = localStorage.getItem(key);
      if(stored) apply(stored);
      else if(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) apply('dark');
      else apply('light');

      btn.addEventListener('click', ()=>{
        const next = (root.getAttribute('data-theme') === 'dark') ? 'light' : 'dark';
        apply(next);
        localStorage.setItem(key, next);
      });
    })();

    /* ==========================
       Controles de fonte (acessibilidade)
       - aumenta / diminui / reseta o tamanho base
       - persiste em localStorage
       ========================== */
    (function FontSize(){
      const inc = $('#font-increase');
      const dec = $('#font-decrease');
      const rst = $('#font-reset');
      const key = 'site:font';
      const root = document.documentElement;

      const get = ()=> Number(getComputedStyle(root).getPropertyValue('--base-font')) || 16;
      const set = (v)=> root.style.setProperty('--base-font', v + 'px');

      // aplicar valor salvo ou default
      const saved = Number(localStorage.getItem(key));
      if(saved) set(saved);

      inc.addEventListener('click', ()=>{ let v = get(); v = Math.min(24, v + 1); set(v); localStorage.setItem(key, v); });
      dec.addEventListener('click', ()=>{ let v = get(); v = Math.max(12, v - 1); set(v); localStorage.setItem(key, v); });
      rst.addEventListener('click', ()=>{ set(16); localStorage.removeItem(key); });
    })();

    /* ==========================
       Text-to-Speech (TTS)
       - Leitura do parágrafo principal
       - Parar leitura
       - Leitura de seleção via Ctrl/Cmd+R
       ========================== */
    (function TTS(){
      const read = $('#tts-read');
      const stop = $('#tts-stop');
      const ttsContent = $('#tts-content');

      let utter = null;

      read.addEventListener('click', ()=>{
        if(!('speechSynthesis' in window)) return alert('TTS não suportado neste navegador.');
        window.speechSynthesis.cancel();
        utter = new SpeechSynthesisUtterance(ttsContent.textContent);
        utter.lang = 'pt-BR'; utter.rate = 1; utter.pitch = 1;
        window.speechSynthesis.speak(utter);
      });

      stop.addEventListener('click', ()=>{ if('speechSynthesis' in window) window.speechSynthesis.cancel(); });

      // Leitura de seleção com Ctrl/Cmd + R
      document.addEventListener('keydown', (e)=>{
        if((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'r'){
          e.preventDefault();
          const sel = window.getSelection().toString().trim();
          if(!sel) return; if(!('speechSynthesis' in window)) return;
          window.speechSynthesis.cancel();
          const u = new SpeechSynthesisUtterance(sel); u.lang='pt-BR'; window.speechSynthesis.speak(u);
        }
      });
    })();

    /* ==========================
       Carousel funcional:
       - Navegação por botões
       - Indicadores clicáveis
       - Autoplay com pausa ao focar
       - Suporte teclado (ArrowLeft/Right)
       ========================== */
    (function Carousel(){
      const track = $('#track');
      const dots = $$('.dot');
      const prev = $('#prev');
      const next = $('#next');
      const container = $('#carousel');
      const slides = $$('.carousel-slide', track);
      let idx = 0; let timer = null; const total = slides.length;

      const go = (i)=>{
        idx = (i + total) % total;
        track.style.transform = `translateX(-${idx * 100}%)`;
        dots.forEach((d, n)=>{
          d.setAttribute('aria-selected', String(n === idx));
          d.setAttribute('aria-current', n === idx ? 'true' : 'false');
        });
      }

      const nextSlide = ()=> go(idx + 1);
      const prevSlide = ()=> go(idx - 1);

      next.addEventListener('click', ()=>{ nextSlide(); reset(); });
      prev.addEventListener('click', ()=>{ prevSlide(); reset(); });
      dots.forEach(d=> d.addEventListener('click', (e)=>{ go(Number(e.currentTarget.dataset.index)); reset(); }));

      container.addEventListener('keydown', (e)=>{ if(e.key === 'ArrowRight') { nextSlide(); reset(); } if(e.key === 'ArrowLeft') { prevSlide(); reset(); } });
      container.addEventListener('focusin', ()=> stop());
      container.addEventListener('focusout', ()=> start());

      function start(){ stop(); timer = setInterval(nextSlide, 5000); }
      function stop(){ if(timer) { clearInterval(timer); timer = null; } }
      function reset(){ stop(); start(); }

      // Inicialização
      dots.forEach((d,i)=> d.dataset.index = i);
      go(0); start();
    })();

    /* ==========================
       Modal: abertura, fechamento e trap de foco
       - Ao abrir: guarda elemento focado, mostra backdrop e foca primeiro controlável
       - Ao fechar: retorna foco ao elemento anterior
       - Escape fecha
       - Clique fora do modal fecha
       ========================== */
    (function Modal(){
      const openBtn = $('#open-modal');
      const backdrop = $('#backdrop');
      const closeBtn = $('#close-modal');
      let lastFocus = null;

      const focusable = 'a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])';

      function trap(dialog){
        const nodes = Array.from(dialog.querySelectorAll(focusable));
        if(nodes.length) nodes[0].focus();

        function handler(e){
          if(e.key === 'Escape') close();
          if(e.key === 'Tab'){
            const first = nodes[0]; const last = nodes[nodes.length - 1];
            if(e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
            else if(!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
          }
        }
        dialog.addEventListener('keydown', handler);
        return ()=> dialog.removeEventListener('keydown', handler);
      }

      function open(){
        lastFocus = document.activeElement;
        backdrop.style.display = 'flex'; backdrop.setAttribute('aria-hidden','false'); document.body.style.overflow = 'hidden';
        const release = trap(backdrop);
        closeBtn.addEventListener('click', close);
        backdrop.addEventListener('click', backdropClick);
        backdrop._release = release;
      }

      function close(){
        if(backdrop._release) backdrop._release();
        backdrop.style.display = 'none'; backdrop.setAttribute('aria-hidden','true'); document.body.style.overflow = '';
        closeBtn.removeEventListener('click', close);
        backdrop.removeEventListener('click', backdropClick);
        if(lastFocus) lastFocus.focus();
      }

      function backdropClick(e){ if(e.target === backdrop) close(); }

      openBtn.addEventListener('click', open);
      document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape' && backdrop.style.display === 'flex') close(); });
    })();

    /* ==========================
       Small: Make skip link focus visible
       ========================== */
    (function skipFocus(){
      const skip = document.querySelector('.skip');
      skip.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') { $('#main').focus(); } });
    })();

  </script>
</body>
</html>
